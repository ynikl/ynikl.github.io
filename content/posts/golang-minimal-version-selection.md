---
title: "Golang Minimal Version Selection 意识流翻译(仅开头)"
date: 2022-11-01T00:15:50+08:00
publishDate: 2022-11-01T00:15:50+08:00
draft: false
tags:
- golang
- translate
---

原文: [Minimal Version Selection](https://research.swtch.com/vgo-mvs#low-fidelity_builds)

意识流翻译, 只是简单的把自己的理解转化成中文. 仅供参考.

# 翻译:

Go 构建相关的命令需要决定模块版本. 把这些模块和版本号称之为编译列表(build list).
为了稳定的开发, 今天的编译列表必须和明天的编译列表是一致的. 但是开发者也必须支持
编译列表的改变: 升级所有的模块, 升级单个模块, 降级单个模块. 

版本选择的问题定位为: 给定一个算法支持对编译列表进行下面四种操作: 

1. 构建当前的编译列表
2. 升级所有模块到各自对应的最新版本
3. 升级一个模块到对应的版本
4. 降级一个模块到对应的版本

最后两种操作是在一个具体的模块进行升级和降级. 在满足依赖需求的前提下, 尽量少的进
行升级, 降级, 添加或者移除模块.

这篇博文展示了最小版本选择算法, 一个新的, 简单的版本选择方案. 最小版本选择是容易
理解和能简单推测出他的运行行为的. 而且还能高稳定构建的, 表名一个用户所使用的依赖
是非常接近开发者所使用的依赖. 能够高效实现, 没有使用什么复杂的递归图算法. 仅仅只
用了几行 go 的代码就是实现了.

最小选择算法假设所有的模块都声明了它自己对于其他模块的依赖清单. 且所有的模块都遵
守[语义化版本](https://research.swtch.com/vgo-import): 向前兼容的版本使用小版本号,
不向前兼容的版本使用大版本号.

对应的四种列表操作:

1. 构建当前模块的编译列表: 将当前模块引用的依赖列表加在一起, 重复的仅保持一份.
2. 升级所有模块版本: 所有最新引用的依赖, 重新构建一份列表
3. 升级某一具体模块版本: 构建没有升级的列表, 再将升级的模块新的引用列表加入, 加入
时如果如果已经存在, 就是仅保存最新的版本
4. 降级一个模块到对应的版本: 反解开所有依赖降级的模块, 每一个依赖都需降级到目标
模块版本之下

这些操作简单, 高效, 且容易实现

**剩余内容 略**

